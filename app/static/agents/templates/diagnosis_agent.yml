name: diagnosis_agent
description: >
  PyTune Diagnosis Agent ‚Äî prepares the user to start the piano acoustic diagnosis using the microphone.

start:
  say: |
    üéôÔ∏è To start the PyTune Diagnosis you will need a MICROPHONE and to sit in front of your piano
    (lid open if possible, in a quiet environment).

    ‚è±Ô∏è The full process takes about 2 minutes:
    - microphone calibration and A4 reference note
    - guided chromatic scale (each note ~2 seconds)
    - a few long notes at the low and high ends
  actions:
    - suggest_action: "Connect microphone"
      trigger_event: connect_micro
    - suggest_action: "Start diagnosis (micro)"
      trigger_event: start_micro_diagnosis
    - suggest_action: "‚ÑπÔ∏è What is PyTune Diagnosis?"
      route_to: "/diagnosis/about"

conversation:
  - else: true
    continue: true
    say: ${llm_response}
    actions: []

metadata:
  version: "1.0"
  title: "üéπ PyTune Diagnosis Agent"
  lang: en
  llm_backend: openai
  llm_model: gpt-4o-mini
  allow_interruptions: false
  memory: false
